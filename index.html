<!DOCTYPE html>
<html>

  <head>
	<meta name="generator" content="Hugo 0.54.0" />

  <title>
      
      Steven Pate
      
  </title>

</head>


  <body>

    

	
<div class="h-feed">

	
	
	  <div class="h-entry">
		
			<h1><a href="https://stevenpate.micro.blog/2023/09/27/return-to-astro.html">Return to Astro</a></h1>
		

		<a href="https://stevenpate.micro.blog/2023/09/27/return-to-astro.html" class="u-url"><time class="dt-published" datetime="2023-09-27 12:54:39 -0700">Sep 27, 2023</time></a>

		<div class="e-content">
			 <p>I&rsquo;ve returned to some work on the astro side of things as I ran into some wheel-spinning on Sanity, almost all of which is very, very (very) likely to be the limitations of me bluffing my way through React in general and the manipulation of state in reaction in particular. So today I added shelf locations (barebones) to the web component, defined a route for individual books.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://stevenpate.micro.blog/2023/06/03/the-advent-of.html" class="u-url"><time class="dt-published" datetime="2023-06-03 23:49:56 -0700">Jun 3, 2023</time></a>

		<div class="e-content">
			 <blockquote>
<p>The advent of social media, with all its apparent opportunities for self-expression, briefly suggested a debased fulfillment of Hegel&rsquo;s horizon of autonomy and recognition for everyone. But now, as a constitutive component of twenty-first-century capitalism, the internet&rsquo;s key functions include the disabling of memory and the absorption of lived temporalities, not ending history but rendering it unreal and incomprehensible. The paralysis of remembrance occurs individually and collectively: we see this in the transience of any &ldquo;analog
artifacts that are digitized: rather than preservation, their fate is oblivion and loss, noted by no one.</p>
</blockquote>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://stevenpate.micro.blog/2023/03/18/today-in-great.html" class="u-url"><time class="dt-published" datetime="2023-03-18 10:14:23 -0700">Mar 18, 2023</time></a>

		<div class="e-content">
			 <p>Today in ‚ÄúGreat Newsletters‚Äù: Ann Boyer‚Äôs <a href="https://anneboyer.substack.com/">Mirabilary</a> compels me to find a copy of The Red Wheelbarrow:</p>

<p><a href="https://anneboyer.substack.com/p/100-years-of-spring-and-all">100 Years of Apring and All</a></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://stevenpate.micro.blog/2022/11/15/currently-reading-liberation.html" class="u-url"><time class="dt-published" datetime="2022-11-16 00:06:12 -0700">Nov 16, 2022</time></a>

		<div class="e-content">
			 <p>Currently reading: <a href="https://micro.blog/books/9780525509592">Liberation Day</a> by George Saunders üìö</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://stevenpate.micro.blog/2022/10/21/how-did-i.html" class="u-url"><time class="dt-published" datetime="2022-10-21 19:05:16 -0700">Oct 21, 2022</time></a>

		<div class="e-content">
			 <p>How did I not know about <a href="https://twitter.com/booksongif">@booksongif</a> and <a href="https://booksongif.substack.com/">their newsletter</a> until today? Unacceptable.</p>

<p>Related: my discovery of <a href="https://feedbin.com/">feedbin</a> last year, which allowed me to consume twitter feeds in EXACTLY the way (far, far away from the twitter feed itself) has been incredibly beneficial to me.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://stevenpate.micro.blog/2022/10/20/currently-reading-liberation.html" class="u-url"><time class="dt-published" datetime="2022-10-20 13:19:02 -0700">Oct 20, 2022</time></a>

		<div class="e-content">
			 <p>Currently reading: <a href="https://micro.blog/books/9780525509592">Liberation Day</a> by George Saunders üìö</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://stevenpate.micro.blog/2022/10/20/we-have-been.html" class="u-url"><time class="dt-published" datetime="2022-10-20 13:18:28 -0700">Oct 20, 2022</time></a>

		<div class="e-content">
			 <p>We have been waiting and waiting for rain here, and since it was sprinkling all morning I decided to string up a tarp and hammock in the back yard with the notion of opening a new book and scrutinizing my own eyelids for about an hour. Of course this means the rain stops. Of course.</p>

<p><img src="uploads/2022/4cbb73ece2.jpg" width="600" height="450" alt=""></p>

		</div>
	  </div>
	
	  <div class="h-entry">
		

		<a href="https://stevenpate.micro.blog/2022/10/20/i-couldnt-find.html" class="u-url"><time class="dt-published" datetime="2022-10-20 10:03:10 -0700">Oct 20, 2022</time></a>

		<div class="e-content">
			 <p>I couldn&rsquo;t find a <a href="https://micro.blog/books/9780811230070">book</a> on Open Library today, so <a href="https://openlibrary.org/books/OL40207378M/The_English_Understand_Wool">I added it</a> myself. Feels good, man.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://stevenpate.micro.blog/2022/10/19/what-ive-been.html">What I have been working on</a></h1>
		

		<a href="https://stevenpate.micro.blog/2022/10/19/what-ive-been.html" class="u-url"><time class="dt-published" datetime="2022-10-19 23:29:51 -0700">Oct 19, 2022</time></a>

		<div class="e-content">
			 <p>I may not have gotten as much done on <a href="https://bookshelves.dev">bookshelves.dev</a> as I wanted to over the summer, but that is because I was busy buying a home, moving (again), hosting plenty of guests, and taking on a LOT of yard and garden work, for starters. So the &ldquo;time off&rdquo; from being a full-time parent to a 2-year-old disappeared before I knew it.</p>

<p>What <em>did</em> I do?</p>

<ul>
<li>A lot of testing with and evaluation of Git-based and API-based headless CMS integration.</li>
<li>Made nontrivial improvements to scraping and API handling (not all of that is shipped)</li>
<li>Cleaned up and expanded shelf and book display via shortcode</li>
<li>Added micro.blog json import</li>
</ul>

<p>It was nice to mark some of these as done when updating the project‚Äôs readme file just now. It just doesn‚Äôt sound like a lot. Again: busy. But also, I had some <em>very</em> helpful and exciting conversations with some people interested in this project, and in offering me opportunities related to that.</p>

<p>Good things that will happen if I can just keep carving out some time to work on this. Putting some fun tasks at the top of the project‚Äôs feature backlog got me excited for upcoming work. However, I am also mindful that one of the rationales for this whole endeavor is to help me read more, so I hope to <em>use</em> the system a bit more regularly as well. I have ideas on that front as well.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://stevenpate.micro.blog/2022/10/19/new-book-added.html">New book added to bookshelves.dev</a></h1>
		

		<a href="https://stevenpate.micro.blog/2022/10/19/new-book-added.html" class="u-url"><time class="dt-published" datetime="2022-10-19 20:20:15 -0700">Oct 19, 2022</time></a>

		<div class="e-content">
			 <p>I added this book to my <a href="https://bookshelves.dev/books-i-have-enjoyed-in-2022/">Books I have enjoyed in 2022</a> shelf today: <strong><em><a href="https://micro.blog/books/9780811230070">The English Understand Wool (Storybook ND Series)</a></em></strong> by Helen DeWitt üìö. I had almost as much fun writing this review as reading the book.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://stevenpate.micro.blog/2022/10/13/making-the-libraryjson.html">Making the library.json file more useful</a></h1>
		

		<a href="https://stevenpate.micro.blog/2022/10/13/making-the-libraryjson.html" class="u-url"><time class="dt-published" datetime="2022-10-13 10:37:23 -0700">Oct 13, 2022</time></a>

		<div class="e-content">
			 <p>I‚Äôve had something sitting on the todo list for a long time: make the <a href="https://tomcritchlow.com/2020/04/15/library-json/" title="Tom Critchlow's discussion of library.json">library.json</a> file that bookshelves.dev a bit better by providing a full image path to the locally cached cover image for each book, as opposed to just dumping the source url for the image.</p>

<p><a href="https://bookshelves..dev/library.json" title="bookshelves.dev library.json">The site‚Äôs library.json</a> output is generated by a nunjucks template page, which loops through all the books identified on the site and displays each one using the ‚Äúbook‚Äù <a href="https://www.11ty.dev/docs/shortcodes/" title="Eleventy shortcode documentation">shortcode</a>, which can take an ISBN and optionally a layout. Here, we pass the JSON layout.</p>

<pre><code>---
permalink: '/library.json'
---
{
  &quot;name&quot;: &quot;&amp;#123;&amp;#123; site.title }}&quot;,
  &quot;url&quot;: &quot;&amp;#123;&amp;#123; site.url }}&quot;,
  &quot;bio&quot;: &quot;&amp;#123;&amp;#123; site.description }}&quot;,
  &quot;lists&quot;: [
  {%- for item in booksOnShelves.shelves %}
    {
      &quot;title&quot;: &quot;&amp;#123;&amp;#123; item.shelfTitle }}&quot;,
      &quot;shelfID&quot;: &quot;&amp;#123;&amp;#123; item.shelfID }}&quot;,
      &quot;url&quot;: &quot;&amp;#123;&amp;#123; site.url }}/&amp;#123;&amp;#123; item.shelfID }}&quot;,
      &quot;books&quot;: [
        {%- for ISBN in item.shelfItems %}
        { 
          {% book ISBN, 'json' %}
        }{% if not loop.last %},{% endif %}
        {%- endfor %}
      ]
    }{% if not loop.last %},{% endif %}
  {%- endfor %}
  ]
}
</code></pre>

<p>That book shortcode script passes some details to the layout to, and what it was passing was the path to the source of the image. This could be a local image or (more likely) a URL to an image on Amazon, identified by the build script using the ISBN. But on the site we don‚Äôt just use that URL, we use <a href="https://www.11ty.dev/docs/plugins/image/" title="Eleventy Image plugin documentation">the image plugin</a> to fetch, cache and create responsive markup for that image. That image plugin code is in a different script, so I modified <em>that</em> to return not just that resource, but also the path to the cached image.</p>

<pre><code>    const html = `&lt;picture&gt;
    ${Object.values(metadata)
        .map((imageFormat) =&gt; {
            return `  &lt;source type=&quot;${
                imageFormat[0].sourceType
            }&quot; srcset=&quot;${imageFormat
                .map((entry) =&gt; entry.srcset)
                .join(&quot;, &quot;)}&quot; sizes=&quot;${sizes}&quot;&gt;`;
        })
        .join(&quot;\n&quot;)}
      &lt;img
        src=&quot;${lowsrc.url}&quot;
        alt=&quot;${alt}&quot;
        class=&quot;${cls}&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;&gt;
    &lt;/picture&gt;`;

    return { html, highsrc, lowsrc };
</code></pre>

<p>After updating the cacheImage script, I updated all references to it. Now, when build the site, the library.json should have absolute paths to my cached resource, and not the scraped URL of the image I used.</p>

<p>Along the way I noticed that shareLibrary.njk was using the booksOnShelves.json directly, and not filtering out anything whose visibility is not set to &ldquo;true&rdquo;. I could have either filtered that in the nunjucks conditional on that generating page, or refactored it to use the booksOnShelf collection in eleventy, where the &ldquo;hidden&rdquo; books have already been filtered out. For now, I&rsquo;ve done the former, which is easier. But I&rsquo;m not sure where I would land if I thought about that a bit more deeply.</p>

<p>Anyway, this was satisfyingly straightforward. May it serve as a reminder that doing the less exciting items on the todo list can feel really good. Sometimes I only want to work on the daunting new epics and deny myself the pleasure of shipping even a small piece of code.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://stevenpate.micro.blog/2022/10/13/adding-blog-posts.html">Adding a blog feed</a></h1>
		

		<a href="https://stevenpate.micro.blog/2022/10/13/adding-blog-posts.html" class="u-url"><time class="dt-published" datetime="2022-10-13 00:20:31 -0700">Oct 13, 2022</time></a>

		<div class="e-content">
			 <p>I added blog posts to the <a href="https://bookshelves.dev">bookshelves.dev</a> site, imported from my micro.blog. The idea is that I will start using this to document bits of work that I&rsquo;m able to finish, or to talk about what is blocking me.</p>

<p>I&rsquo;m not sure why I like the idea of using the <a href="https://micro.blog/">micro.blog</a> front end, other than it feels <a href="https://indieweb.org/Micropub">indiewebby</a> and dead simple. And it was sure simple to find the automatically generated public json feed. It was almost as simple to import the data from that feed into 11ty as <a href="https://www.11ty.dev/docs/data-global/">global data</a>.</p>

<p>Because I theoretically might use this platform for posts that don&rsquo;t have anything to do with the bookshelves.dev project, I filtered out items that don&rsquo;t have a &ldquo;bookshelves&rdquo; tag when creating the data collection in 11ty and using the <a href="https://www.11ty.dev/docs/pagination/">pagination</a> functionality to build individual posts.</p>

<p>The only thing left to do was to create a <a href="https://docs.netlify.com/configure-builds/build-hooks/">Netlify build hook</a> to trigger a deployment when a new blog post is published, which is rather clumsily accomplished via <a href="https://zapier.com/">Zapier</a> and the micro.blog&rsquo;s RSS feed.</p>

<p>Is this overly complicated? Almost certainly. But It does exactly what I want it to do. And I&rsquo;m happy to mark this one as done.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://stevenpate.micro.blog/2022/06/20/tonight-i-tweaked.html">CSS is hard to tackle piecemeal</a></h1>
		

		<a href="https://stevenpate.micro.blog/2022/06/20/tonight-i-tweaked.html" class="u-url"><time class="dt-published" datetime="2022-06-20 21:58:54 -0700">Jun 20, 2022</time></a>

		<div class="e-content">
			 <p>Tonight I tweaked the markup and fiddled with the tailwind classes  on <a href="https://bookshelves.dev">bookshelves.dev</a> to get the featured items on the homepage to bother me less.</p>

<p>Since they look like cards, I wanted the whole thing to be clickable. But wrapping the existing markup in an anchor tag of course messed with the colors and text-decoration, so I had to track down how to extend the tailwind.config. Then I wanted some subtle hover animation and finally feel better about that. I liked it enough to implement it for the card component layouts of the shelf and book shortcodes across the site. Along the way, I also eliminated a couple of things that were wonky at intermediate breakpoints.</p>

<p>Overall I still feel really unhappy with the clunkiness of the visual design and the haphazard feeling of the markup and the chaos of tailwind classes. But it hurts me a little bit less.</p>

<p>I sure wish I had time to go deep on the css from scratch. But there are other things I really want to be doing on the site right now. Fiddling with these little things is a luxury I don&rsquo;t often afford myself lately.</p>

		</div>
	  </div>
	
	  <div class="h-entry">
		
			<h1><a href="https://stevenpate.micro.blog/2021/11/16/005231.html">The Bookstore is My Mountain</a></h1>
		

		<a href="https://stevenpate.micro.blog/2021/11/16/005231.html" class="u-url"><time class="dt-published" datetime="2021-11-16 01:52:00 -0700">Nov 16, 2021</time></a>

		<div class="e-content">
			 <p><img src="https://stevenpate.micro.blog/uploads/2021/bf22d0a83f.jpg" alt="" /></p>

		</div>
	  </div>
	

</div>


    
    

  </body>

</html>
